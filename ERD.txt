// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

// Table follows {
//   following_user_id integer
//   followed_user_id integer
//   created_at timestamp 
// }

// Table users {
//   id integer [primary key]
//   username varchar
//   role varchar
//   created_at timestamp
// }

// Table posts {
//   id integer [primary key]
//   title varchar
//   body text [note: 'Content of the post']
//   user_id integer
//   status varchar
//   created_at timestamp
// }

// Ref: posts.user_id > users.id // many-to-one

// Ref: users.id < follows.following_user_id

// Ref: users.id < follows.followed_user_id


Table users {
  id integer [primary key]
  username varchar
  fullname varchar
  password varchar
  avatar varchar
  email varchar
  isAdmin boolean
}

Table products {
  id integer [primary key]
  name varchar
  userId integer [ref: > users.id]
  stock integer
  description text
  price integer
}

Table productImages {
  id integer [primary key]
  productId integer [ref: > products.id]
  url varchar
}

Table productCategories {
  id integer [primary key]
  productId integer [ref: > products.id]
  categoryId integer [ref: > categories.id]
}

Table categories {
  id integer [primary key]
  name varchar
  baseColor varchar
  icon varchar
}

Table carts {
  id integer [primary key]
  userId integer [ref: > users.id]
  productId integer [ref: > products.id]
  productCount integer
}

Table invoices {
  id integer [primary key]
  userId integer [ref: > users.id]
  productId integer [ref: > products.id]
  productCount integer
  paymentMethod varchar
}


